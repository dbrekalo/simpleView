<section class="attireBlock mod1 testCase">
    <div class="inner">

        <h2 class="attireTitleType2">Examples</h2>

        <p class="attireTextType2">
            Lets build a simple fake guestbook for users to sign (You haven't seen one for a while, did you?).
            Nothing is persisted and saved to database - so feel free to sign it.
        </p>

        <hr class="attireSeparator mod1">

        <div class="guestbook">
            <form>
                <input class="entryInput" placeholder="Type here..." type="text">
                <button type="submit">+</button>
            </form>
            <div class="entryList"></div>
        </div>

        <hr class="attireSeparator mod1">

        <script>
            var Guestbook = SimpleView.extend({
                initialize: function() {
                    this.$entryList = this.$('.entryList');
                    this.$input = this.$('.entryInput');
                },
                events: {
                    'submit form': 'handleSubmitEntry',
                    'resize window': 'updateView',
                },
                handleSubmitEntry: function(e) {
                    e.preventDefault();
                    var message = this.$input.val();
                    message.length && this.addEntry(message);
                    this.$input.val('');
                },
                addEntry: function(message) {
                    var entryView = this.addView(new GuestbookEntry({message: message}));
                    entryView.$el.prependTo(this.$entryList);
                },
                updateView: function() {
                    this.$el.toggleClass('small', this.$window.width() < 500);
                }
            });

            var GuestbookEntry = SimpleView.extend({
                defaults: {
                    className: 'guestbookEntry',
                    btnRemoveClass: 'removeEntry'
                },
                initialize: function(options) {
                    this.options = $.extend({}, this.defaults, options);
                    this.$el = $(this.template(this.options));
                },
                events: {
                    'click .{{this.options.btnRemoveClass}}': 'remove',
                    'one:click .message': 'clickMessage'
                },
                template: function(data) {
                    return '<div class="' + data.className + '">\
                                <span class="message">' + data.message + '</span>\
                                <button class="' + data.btnRemoveClass + '">Ã—</button>\
                            </div>';
                },
                clickMessage: function(e) {
                    console.log($(e.target).text());
                }
            });

            var guestbook = new Guestbook({$el: '.guestbook'});

            guestbook.addEntry('Make your willy bigger. Money back guarantee. If it works.');
            guestbook.addEntry('Dear Sir. I am leaving a mark here.');
            guestbook.addEntry('Yeah i had sex with my girlfriend. So hot. Hungry now.');
            guestbook.addEntry('My app is soo much better then this. Go see React. It is the only way to do frontend now');

        </script>

        <style>
            .guestbook {
                padding: 2em;
                background: #fff; box-shadow: 0 0.1em 0.3em rgba(0,0,0,0.1);
            }
            .guestbook > form {
                position: relative; padding-right: 6em;
                border: 1px solid #dcdcdc;
            }
            .guestbook > form > input {
                font-size: 1.8em; padding: 1em; display: block; width: 100%; box-sizing: border-box;
                color: #303030; border: 0; background: transparent;
                appearance:none; -moz-appearance:none; -webkit-appearance:none;
            }
            .guestbook > form > button {
                font-size: 3em; font-weight: bold;
                position: absolute; right: 0; top: 0; bottom: 0; margin: 0; padding: 0; border: 0; width: 2em;
                cursor: pointer; background: none; border-left: 1px solid #dcdcdc;
            }
            .guestbook > .entryList{
                padding: 3em 2em 2em;
            }
            .guestbookEntry {
                display: block; position: relative;
                font-size: 1.5em; line-height: 1.4; padding: 0.6em 3em 0.6em 0;
                border-bottom: 1px solid #ededed;
            }
            .guestbookEntry:last-child {
                border: 0;
            }
            .guestbookEntry > .removeEntry {
                font-size: 1.1em;
                position: absolute; right: 0; top: 0.5em; margin: 0; padding: 0; border: 0;
                cursor: pointer; background: none; color: #999;
            }
        </style>

        <p class="attireTextType2">
            For our fake guestbook to work we had to write following html:
        </p>

        <pre class="attireCodeHighlight"><code class="language-markup">
            <script type="prism-html-markup"><div class="guestbook">
                <form>
                    <input class="entryInput" placeholder="Type here..." type="text">
                    <button type="submit">+</button>
                </form>
                <div class="entryList"></div>
            </div>
            </script>
        </code></pre>

        <hr class="attireSeparator mod1">

        <p class="attireTextType2">
            Our guestbook Simple view type is defined like so:
        </p>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            var Guestbook = SimpleView.extend({
                initialize: function() {
                    this.$entryList = this.$('.entryList');
                    this.$input = this.$('.entryInput');
                },
                events: {
                    'submit form': 'handleSubmitEntry',
                    'resize window': 'updateView',
                },
                handleSubmitEntry: function(e) {
                    e.preventDefault();
                    var message = this.$input.val();
                    message.length && this.addEntry(message);
                    this.$input.val('');
                },
                addEntry: function(message) {
                    var entryView = this.addView(new GuestbookEntry({message: message}));
                    entryView.$el.prependTo(this.$entryList);
                },
                updateView: function() {
                    this.$el.toggleClass('small', this.$window.width() < 500);
                }
            });

            new Guestbook({$el: '.guestbook'});
        </code></pre>

        <hr class="attireSeparator mod1">

        <p class="attireTextType2">
            Guestbook entries are written as follows:
        </p>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            var GuestbookEntry = SimpleView.extend({
                defaults: {
                    className: 'guestbookEntry',
                    btnRemoveClass: 'removeEntry'
                },
                initialize: function(options) {
                    this.options = $.extend({}, this.defaults, options);
                    this.$el = $(this.template(this.options));
                },
                events: {
                    'click .{{this.options.btnRemoveClass}}': 'remove',
                    'one:click .message': 'clickMessage'
                },
                template: function(data) {
                    return '&#x3C;div class=&#x22;&#x27; + data.className + &#x27;&#x22;&#x3E;\
                                &#x3C;span class=&#x22;message&#x22;&#x3E;&#x27; + data.message + &#x27;&#x3C;/span&#x3E;\
                                &#x3C;button class=&#x22;&#x27; + data.btnRemoveClass + &#x27;&#x22;&#x3E;&#xD7;&#x3C;/button&#x3E;\
                            &#x3C;/div&#x3E;';
                },
                clickMessage: function(e) {
                    console.log($(e.target).text());
                }
            });
        </code></pre>

    </div>
</section>
