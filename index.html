<!doctype html>
<html lang="en">
    <head>

        <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Simple View</title>
<meta name="description" content="Lightweight javascript view component boilerplate">
<meta name="viewport" content="width=device-width, initial-scale=1">

        <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700,900&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://rawgit.com/dbrekalo/attire/master/dist/css/build.min.css">
<script src="https://rawgit.com/dbrekalo/attire/master/dist/js/build.min.js"></script>

        <script src="dist/simpleView.bundle.js"></script>

    </head>
<body>

    <section class="attireBlock">
    <div class="inner">

        <h1 data-nav-title="About" class="attireTitleType1">Simple view</h1>

        <p class="attireTextType1">
            Organize your application interface with lightweight javascript view components.
            Works pretty much like a augmented Backbone view with no large dependencies.
            Weighs around 1.5 KB.
        </p>

        <nav class="attireAuthor">
    <a class="imageElement" href="https://github.com/dbrekalo">
        <img src="https://s.gravatar.com/avatar/32754a476fb3db1c5a1f9ad80c65d89d?s=80" alt="Damir Brekalo">
    </a>
    <a class="name" href="https://github.com/dbrekalo">Damir Brekalo</a>
    <p class="socialBox">
        <a href="mailto:dbrekalo@gmail.com" class="iconMail" title="Contact me by email">Contact me by email</a>
        <a href="https://github.com/dbrekalo" class="iconGithub" title="Find me on Github">Find me on Github</a>
        <a href="https://twitter.com/damirbr" class="iconTwitter" title="Reach me on Twitter">Reach me on Twitter</a>
    </p>
</nav>

        <p class="attireTextType2">
            Simple view allows you to delegate or bind events to current element context with a simple declarative syntax.
            Event strings can be dynamically configured with injected variables.
            One time events are configured with simple prefix on event string .
            You can listen to window and document events and be sure that all handlers will be cleaned up upon view removal.
        </p>
        <p class="attireTextType2">
            Every Simple view instance can have sub-views and be used as container of views (collection view).
            Controller and component views can be easily composed if that is how you want your application to be structured.
            Choose your view hierarchy as it suits your project needs.
        </p>
        <p class="attireTextType2">
            Simple view works great with server side rendered html.
            There is no requirement for client side templating or rendering of any kind.
        </p>

    </div>
</section>

    <section class="attireBlock mod1 testCase">
    <div class="inner">

        <h2 class="attireTitleType2">Examples</h2>

        <p class="attireTextType2">
            Lets build a simple fake guestbook for users to sign (You haven't seen one for a while, did you?).
            Nothing is persisted and saved to database - so feel free to sign it.
        </p>

        <hr class="attireSeparator mod1">

        <div class="guestbook">
            <form>
                <input class="entryInput" placeholder="Type here..." type="text">
                <button type="submit">+</button>
            </form>
            <div class="entryList"></div>
        </div>

        <hr class="attireSeparator mod1">

        <script>
            var Guestbook = SimpleView.extend({
                initialize: function() {
                    this.$entryList = this.$('.entryList');
                    this.$input = this.$('.entryInput');
                },
                events: {
                    'submit form': 'handleSubmitEntry',
                    'resize window': 'updateView',
                },
                handleSubmitEntry: function(e) {
                    e.preventDefault();
                    var message = this.$input.val();
                    message.length && this.addEntry(message);
                    this.$input.val('');
                },
                addEntry: function(message) {
                    var entryView = this.addView(new GuestbookEntry({message: message}));
                    entryView.$el.prependTo(this.$entryList);
                },
                updateView: function() {
                    this.$el.toggleClass('small', this.$window.width() < 500);
                }
            });

            var GuestbookEntry = SimpleView.extend({
                defaults: {
                    className: 'guestbookEntry',
                    btnRemoveClass: 'removeEntry'
                },
                initialize: function(options) {
                    this.options = $.extend({}, this.defaults, options);
                    this.$el = $(this.template(this.options));
                },
                events: {
                    'click .{{this.options.btnRemoveClass}}': 'remove',
                    'one:click .message': 'clickMessage'
                },
                template: function(data) {
                    return '<div class="' + data.className + '">\
                                <span class="message">' + data.message + '</span>\
                                <button class="' + data.btnRemoveClass + '">Ã—</button>\
                            </div>';
                },
                clickMessage: function(e) {
                    console.log($(e.target).text());
                }
            });

            var guestbook = new Guestbook({$el: '.guestbook'});

            guestbook.addEntry('Make your willy bigger. Money back guarantee. If it works.');
            guestbook.addEntry('Dear Sir. I am leaving a mark here.');
            guestbook.addEntry('Yeah i had sex with my girlfriend. So hot. Hungry now.');
            guestbook.addEntry('My app is soo much better then this. Go see React. It is the only way to do frontend now');

        </script>

        <style>
            .guestbook {
                padding: 2em;
                background: #fff; box-shadow: 0 0.1em 0.3em rgba(0,0,0,0.1);
            }
            .guestbook > form {
                position: relative; padding-right: 6em;
                border: 1px solid #dcdcdc;
            }
            .guestbook > form > input {
                font-size: 1.8em; padding: 1em; display: block; width: 100%; box-sizing: border-box;
                color: #303030; border: 0; background: transparent;
                appearance:none; -moz-appearance:none; -webkit-appearance:none;
            }
            .guestbook > form > button {
                font-size: 3em; font-weight: bold;
                position: absolute; right: 0; top: 0; bottom: 0; margin: 0; padding: 0; border: 0; width: 2em;
                cursor: pointer; background: none; border-left: 1px solid #dcdcdc;
            }
            .guestbook > .entryList{
                padding: 3em 2em 2em;
            }
            .guestbookEntry {
                display: block; position: relative;
                font-size: 1.5em; line-height: 1.4; padding: 0.6em 3em 0.6em 0;
                border-bottom: 1px solid #ededed;
            }
            .guestbookEntry:last-child {
                border: 0;
            }
            .guestbookEntry > .removeEntry {
                font-size: 1.1em;
                position: absolute; right: 0; top: 0.5em; margin: 0; padding: 0; border: 0;
                cursor: pointer; background: none; color: #999;
            }
        </style>

        <p class="attireTextType2">
            For our fake guestbook to work we had to write following html:
        </p>

        <pre class="attireCodeHighlight"><code class="language-markup">
            <script type="prism-html-markup"><div class="guestbook">
                <form>
                    <input class="entryInput" placeholder="Type here..." type="text">
                    <button type="submit">+</button>
                </form>
                <div class="entryList"></div>
            </div>
            </script>
        </code></pre>

        <hr class="attireSeparator mod1">

        <p class="attireTextType2">
            Our guestbook Simple view type is defined like so:
        </p>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            var Guestbook = SimpleView.extend({
                initialize: function() {
                    this.$entryList = this.$('.entryList');
                    this.$input = this.$('.entryInput');
                },
                events: {
                    'submit form': 'handleSubmitEntry',
                    'resize window': 'updateView',
                },
                handleSubmitEntry: function(e) {
                    e.preventDefault();
                    var message = this.$input.val();
                    message.length && this.addEntry(message);
                    this.$input.val('');
                },
                addEntry: function(message) {
                    var entryView = this.addView(new GuestbookEntry({message: message}));
                    entryView.$el.prependTo(this.$entryList);
                },
                updateView: function() {
                    this.$el.toggleClass('small', this.$window.width() < 500);
                }
            });

            new Guestbook({$el: '.guestbook'});
        </code></pre>

        <hr class="attireSeparator mod1">

        <p class="attireTextType2">
            Guestbook entries are written as follows:
        </p>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            var GuestbookEntry = SimpleView.extend({
                defaults: {
                    className: 'guestbookEntry',
                    btnRemoveClass: 'removeEntry'
                },
                initialize: function(options) {
                    this.options = $.extend({}, this.defaults, options);
                    this.$el = $(this.template(this.options));
                },
                events: {
                    'click .{{this.options.btnRemoveClass}}': 'remove',
                    'one:click .message': 'clickMessage'
                },
                template: function(data) {
                    return '&#x3C;div class=&#x22;&#x27; + data.className + &#x27;&#x22;&#x3E;\
                                &#x3C;span class=&#x22;message&#x22;&#x3E;&#x27; + data.message + &#x27;&#x3C;/span&#x3E;\
                                &#x3C;button class=&#x22;&#x27; + data.btnRemoveClass + &#x27;&#x22;&#x3E;&#xD7;&#x3C;/button&#x3E;\
                            &#x3C;/div&#x3E;';
                },
                clickMessage: function(e) {
                    console.log($(e.target).text());
                }
            });
        </code></pre>

    </div>
</section>

    <section class="attireBlock">
    <div class="inner">

        <h2 class="attireTitleType2">Api and options</h2>

        <h3 class="attireTitleType3">Simpleview.extend(prototypeProperties, [staticProperties])</h3>

        <p class="attireTextType2">
            Used to define view types / constructor functions.
            Define prototype methods for view via object hash.
            Static properties are optional.
        </p>

        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">initialize(options)</h3>

        <p class="attireTextType2">
            Define initialize function in prototype properties if you need to do some logic on view startup.
            Will receive all arguments from constructor.
        </p>

        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">events(object | function)</h3>

        <p class="attireTextType2">
            Declare events with object hash or custom function in prototype properties.
        </p>

        <pre class="attireCodeHighlight"><code class="language-javascript">
            events: {
                'click .selector': 'handler',
                'click {{this.someVariable}}': 'handler', // variable will be injected
                'one:submit form': 'oneSubmit', // handler will run only once
                'resize window': 'onWindowResize',
                'keyup document': 'onDocumentKeyup'
            }
        </code></pre>

        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">delegatedEvents: true | false</h3>

        <p class="attireTextType2">
            Events are delegated to view by default.
            If you want to bind them directly to elements (to avoid excessive bubbling) set "delegatedEvents" to false.
        </p>

        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">addView()</h3>

        <p class="attireTextType2">
            Adds view instance to sub view registry. This binding enables effective cleanup of container views.
        </p>

        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">removeViews()</h3>

        <p class="attireTextType2">
            Removes all registered sub views.
        </p>

        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">$(selector)</h3>

        <p class="attireTextType2">
            Alias for this.$el.find(selector);
        </p>

        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">when(resources, [callbackDone, [callbackFail]]) {</h3>

        <p class="attireTextType2">
            Similar to $.when. Resources can be array of deferreds or single deferred. Callbacks are executed with view instance as context.
        </p>


        <hr class="attireSeparator mod1">


        <h3 class="attireTitleType3">remove()</h3>

        <p class="attireTextType2">
            Removes view from DOM and does cleanup of all bound events.
        </p>

    </div>
</section>

    <section class="attireBlock">
    <div class="inner">

        <h2 class="attireTitleType2">Installation</h2>

        <p class="attireTextType2">
            For browser usage browse dist folder - if working with build tools go with src folder.
            Download library files from <a href="https://github.com/dbrekalo/simpleView">github repo</a>,
            get them via bower (bower install simple-view)
            or via npm (npm install jquery-simple-view)
        </p>

    </div>
</section>


    <a class="githubRibbon" href="https://github.com/dbrekalo/simpleView">
    <img src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
</a>
    <footer class="attireFooter">
    <p>This page is built with <a href="http://dbrekalo.github.io/attire/">Attire</a>.</p>
</footer>

</body>

</html>
