!function(a){"use strict";a.wk=a.wk||{};var b=0,c=a.wk.repo&&a.wk.repo.require,d=function(c){this.cid="view"+ ++b,this.ens="."+this.cid,this.el&&(this.$el=a(this.el)),c&&(c.$el&&(this.$el=c.$el,delete c.$el),c.el&&(this.$el=a(c.el),delete c.el)),this.$el&&this.events&&this.delegateEvents(),this.initialize&&this.initialize.apply(this,arguments)};a.extend(d.prototype,{$:function(a){return this.$el.find(a)},close:function(){this.beforeClose&&this.beforeClose(),this.$el&&this.$el.remove(),this.afterClose&&this.afterClose()},delegateEvents:function(){var b=this;a.each(this.events,function(c,d){var e=c.split(" "),f=e[0]+b.ens,g=a.trim(c.slice(e[0].length));b.$el.on(f,g,a.proxy("function"==typeof d?d:b[d],b))})},require:function(a,b,d){var e=c(a,b,d||this);return e.baseViewDeferred="require: "+a,this.deferreds=this.deferreds||[],this.deferreds.push(e),e}}),d.extend=function(b){var c=this,d=b.hasOwnProperty("constructor")?b.constructor:function(){c.apply(this,arguments)},e=function(){this.constructor=d};return e.prototype=c.prototype,d.prototype=new e,a.extend(d.prototype,b),a.extend(d,c)},a.wk.simpleView=d}(window.jQuery||window.Zepto);